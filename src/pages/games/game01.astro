---
import Layout from '../../layouts/Layout.astro'
import { allGames } from '../../data/games'

const game = allGames.find(g => g.id === 'game01')

if (!game) {
  return Astro.redirect('/games')
}
---

<Layout titleKey="site.title" description={game.descriptionKey || ''}>
  <!-- 年齡確認 Overlay -->
  <div id="age-verification-overlay" class="fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm flex items-center justify-center hidden">
    <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md mx-4 text-center">
      <h2 class="text-2xl font-bold text-gray-900 mb-4" data-i18n="games.game01.ageVerification.title"></h2>
      <p class="text-gray-700 mb-2 leading-relaxed" data-i18n="games.game01.ageVerification.warning">
      </p>
      <p class="text-gray-900 font-semibold mb-6 text-lg" data-i18n="games.game01.ageVerification.question">
      </p>
      <div class="flex gap-4 justify-center">
        <button 
          id="age-yes" 
          class="px-8 py-3 bg-pink-500 hover:bg-pink-600 text-white font-bold rounded-lg transition-colors shadow-lg"
          data-i18n="games.game01.ageVerification.yes"
        >
        </button>
        <button 
          id="age-no" 
          class="px-8 py-3 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold rounded-lg transition-colors"
          data-i18n="games.game01.ageVerification.no"
        >
        </button>
      </div>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="pt-34 pb-16 max-w-4xl mx-auto">
    
    <!-- Cover Image -->
    <div class="mb-8 rounded-xl overflow-hidden">
      <img 
        src={game.imgCover}
        alt={game.titleKey || ''}
        class="w-full h-auto object-cover"
      />
    </div>

    <div class="relative h-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 flex items-end">
      <div>

        <!-- Title and R18 Warning -->
        <div class="flex items-center justify-between gap-4 mb-6">
          <h1 class="text-4xl md:text-6xl font-black text-gray-900 leading-tight" data-i18n={game.titleKey}>
          </h1>
          
          {game.r18 && (
            <div class="flex-shrink-0">
              <img 
                src="/images/icon/ja_r18.png" 
                alt="R18" 
                class="w-16 h-16"
              />
            </div>
          )}
        </div>

        <!-- Tags -->
        {game.tagKeys && game.tagKeys.length > 0 && (
          <div class="flex flex-wrap gap-2 mb-4">
            {game.tagKeys.map((tag) => (
              <span class="px-3 py-1 text-sm font-medium bg-blue-500/20 text-blue-600 rounded-full backdrop-blur-sm border border-blue-400/30" data-i18n={tag}>
              </span>
            ))}
          </div>
        )}
        
        <!-- Memo Tags -->
        <div class="flex flex-wrap gap-2 mb-4">
          {game.leftMemoTextKey && (
            <span 
              class="px-3 py-1 text-sm font-medium text-gray-800 rounded-full backdrop-blur-sm"
              style={`background-color: ${game.leftMemoColor || '#FFE680'}`}
              data-i18n={game.leftMemoTextKey}
            >
            </span>
          )}
          {game.rightMemoTextKey && (
            <span 
              class="px-3 py-1 text-sm font-medium text-gray-800 rounded-full backdrop-blur-sm"
              style={`background-color: ${game.rightMemoColor || '#FFE680'}`}
              data-i18n={game.rightMemoTextKey}
            >
            </span>
          )}
        </div>


        <!-- Description -->
        <p class="text-xl text-gray-800 leading-relaxed mb-6" data-i18n={game.descriptionKey}>
        </p>

        <!-- Platforms -->
        {game.platforms && game.platforms.length > 0 && (
          <div class="flex items-center justify-between gap-4 mt-6">
            <div class="flex gap-4">
              {game.platforms.includes('steam') && (
                <div class="inline-flex flex-col items-center gap-1 px-4 py-2 rounded-lg backdrop-blur-sm" style="background-color: var(--color-bg-main); opacity: 0.8;">
                  <svg class="w-10 h-10 text-gray-900" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M11.979 0C5.678 0 .511 4.86.022 11.037l6.432 2.658c.545-.371 1.203-.59 1.912-.59.063 0 .125.004.188.006l2.861-4.142V8.91c0-2.495 2.028-4.524 4.524-4.524 2.494 0 4.524 2.031 4.524 4.527s-2.03 4.525-4.524 4.525h-.105l-4.076 2.911c0 .052.004.105.004.159 0 1.875-1.515 3.396-3.39 3.396-1.635 0-3.016-1.173-3.331-2.727L.436 15.27C1.862 20.307 6.486 24 11.979 24c6.627 0 11.999-5.373 11.999-12S18.605 0 11.979 0zM7.54 18.21l-1.473-.61c.262.543.714.999 1.314 1.25 1.297.539 2.793-.076 3.332-1.375.263-.63.264-1.319.005-1.949s-.75-1.121-1.377-1.383c-.624-.26-1.29-.249-1.878-.03l1.523.63c.956.4 1.409 1.5 1.009 2.455-.397.957-1.497 1.41-2.454 1.012H7.54zm9.423-11.375c-1.661 0-3.01 1.35-3.01 3.012s1.347 3.011 3.01 3.011 3.01-1.349 3.01-3.01-1.346-3.012-3.01-3.012zm0 4.772c-.974 0-1.762-.79-1.762-1.762s.789-1.763 1.762-1.763c.971 0 1.762.791 1.762 1.763s-.79 1.762-1.762 1.762z"/>
                  </svg>
                  <span class="text-gray-900 text-xs font-medium">Steam</span>
                </div>
              )}

              {game.platforms.includes('switch') && (
                <div class="inline-flex flex-col items-center gap-1 px-4 py-2 rounded-lg backdrop-blur-sm" style="background-color: var(--color-bg-main); opacity: 0.8;">
                  <img src="/images/icon/switch-logo.svg" alt="Switch" class="w-10 h-10" />
                  <span class="text-gray-900 text-xs font-medium">Switch</span>
                </div>
              )}
            </div>

            <!-- Steam Purchase Button -->
            <a 
              href="https://store.steampowered.com/app/1793250"
              target="_blank"
              rel="noopener noreferrer"
              class="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg flex items-center gap-2 transition-all duration-300 font-medium"
              aria-label="在Steam購買"
            >
              <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
                <path d="M11.979 0C5.678 0 .511 4.86.022 11.037l6.432 2.658c.545-.371 1.203-.59 1.912-.59.063 0 .125.004.188.006l2.861-4.142V8.91c0-2.495 2.028-4.524 4.524-4.524 2.494 0 4.524 2.031 4.524 4.527s-2.03 4.525-4.524 4.525h-.105l-4.076 2.911c0 .052.004.105.004.159 0 1.875-1.515 3.396-3.39 3.396-1.635 0-3.016-1.173-3.331-2.727L.436 15.27C1.862 20.307 6.486 24 11.979 24c6.627 0 11.999-5.373 11.999-12S18.605 0 11.979 0zM7.54 18.21l-1.473-.61c.262.543.714.999 1.314 1.25 1.297.539 2.793-.076 3.332-1.375.263-.63.264-1.319.005-1.949s-.75-1.121-1.377-1.383c-.624-.26-1.29-.249-1.878-.03l1.523.63c.956.4 1.409 1.5 1.009 2.455-.397.957-1.497 1.41-2.454 1.012H7.54zm9.423-11.375c-1.661 0-3.01 1.35-3.01 3.012s1.347 3.011 3.01 3.011 3.01-1.349 3.01-3.01-1.346-3.012-3.01-3.012zm0 4.772c-.974 0-1.762-.79-1.762-1.762s.789-1.763 1.762-1.763c.971 0 1.762.791 1.762 1.763s-.79 1.762-1.762 1.762z"/>
              </svg>
              <span class="text-sm whitespace-nowrap" data-i18n="common.buyOnSteam"></span>
            </a>
          </div>
        )}
      </div>
    </div>
  </section>

  <!-- SubDetails Section 1: 角色 -->
  <section class="py-0">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="rounded-xl p-8 border border-gray-300 bg-gray-100">
        <!-- 1. SubTitle -->
        <h2 class="text-3xl font-bold text-gray-900 mb-6 text-center" data-i18n="games.game01.sections.characters">
        </h2>

        
        <!-- 2. 分隔線 -->
        <div class="relative mb-8">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t-2 border-gray-300"></div>
          </div>
          <div class="relative flex justify-center">
            <span class="px-4 text-sm text-gray-500 bg-gray-100">✦</span>
          </div>
        </div>
        
        <!-- 3. 實際內容 -->
        <div class="space-y-12">
          <!-- 角色卡片 1: 尤娜 -->
          <div class="flex flex-col items-center text-center">
            <div class="mb-4">
              <h3 class="text-2xl font-bold text-gray-900 mb-2" data-i18n="games.game01.characters.yuna.name"></h3>
              <p class="text-base text-gray-600" data-i18n="games.game01.characters.yuna.cv"></p>
            </div>
            <div class="overflow-hidden rounded-lg">
              <img 
                src="/images/game/game01/una2.png" 
                alt="Yuna" 
                class="h-auto hover:scale-105 transition-transform duration-300"
              />
            </div>
          </div>

          <!-- 角色卡片 2: 夢娜 -->
          <div class="flex flex-col items-center text-center">
            <div class="mb-4">
              <h3 class="text-2xl font-bold text-gray-900 mb-2" data-i18n="games.game01.characters.mona.name"></h3>
              <p class="text-base text-gray-600" data-i18n="games.game01.characters.mona.cv"></p>
            </div>
            <div class="overflow-hidden rounded-lg">
              <img 
                src="/images/game/game01/mona2.png" 
                alt="Muna" 
                class="h-auto hover:scale-105 transition-transform duration-300"
              />
            </div>
          </div>

          <!-- 角色卡片 3: 潘蜜拉 -->
          <div class="flex flex-col items-center text-center">
            <div class="mb-4">
              <h3 class="text-2xl font-bold text-gray-900 mb-2" data-i18n="games.game01.characters.pamela.name"></h3>
              <p class="text-base text-gray-600" data-i18n="games.game01.characters.pamela.cv"></p>
            </div>
            <div class="overflow-hidden rounded-lg">
              <img 
                src="/images/game/game01/pamela2.png" 
                alt="Pamela" 
                class="h-auto hover:scale-105 transition-transform duration-300"
              />
            </div>
          </div>

          <!-- TODO 4 -->
          <div class="flex flex-col items-center text-center">
            <div class="mb-4">
              <h3 class="text-2xl font-bold text-gray-900 mb-2" data-i18n="games.game01.characters.others.name"></h3>
            </div>
            <div class="overflow-hidden rounded-lg">
              <img 
                src="/images/game/game01/other.png" 
                alt="Pamela" 
                class="h-auto hover:scale-105 transition-transform duration-300"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SubDetails Section 2: GamePlay -->
  <section class="py-20">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="rounded-xl p-8 border border-gray-300 bg-gray-100">
        <!-- 1. SubTitle -->
        <h2 class="text-3xl font-bold text-gray-900 mb-6 text-center" data-i18n="games.game01.sections.gameplay">
        </h2>
        
        <!-- 2. 分隔線 -->
        <div class="relative mb-8">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t-2 border-gray-300"></div>
          </div>
          <div class="relative flex justify-center">
            <span class="px-4 text-sm text-gray-500 bg-gray-100">✦</span>
          </div>
        </div>
        
        <!-- 3. 實際內容 -->
        <div class="space-y-16">
          <!-- Gameplay 1 -->
          <div class="flex flex-col items-center text-center space-y-4">
            <h3 class="text-2xl font-bold text-gray-900" data-i18n="games.game01.gameplay.dungeon.title"></h3>
            <p class="text-base text-gray-600 max-w-2xl" data-i18n-html="games.game01.gameplay.dungeon.description"></p>
            <div class="overflow-hidden rounded-lg shadow-md mt-0">
              <img src="/images/game/game01/selectiongif.gif" alt="Gameplay 1" class="w-full h-auto hover:scale-105 transition-transform duration-300" />
            </div>
          </div>

          <!-- Gameplay 2 -->
          <div class="flex flex-col items-center text-center space-y-4">
            <h3 class="text-2xl font-bold text-gray-900" data-i18n="games.game01.gameplay.battle.title"></h3>
            <p class="text-base text-gray-600 max-w-2xl" data-i18n-html="games.game01.gameplay.battle.description"></p>
            <div class="overflow-hidden rounded-lg shadow-md mt-0">
              <img src="/images/game/game01/battlegif.gif" alt="Gameplay 2" class="w-full h-auto hover:scale-105 transition-transform duration-300" />
            </div>
          </div>

          <!-- Gameplay 3 -->
          <div class="flex flex-col items-center text-center space-y-4">
            <h3 class="text-2xl font-bold text-gray-900" data-i18n="games.game01.gameplay.treasure.title"></h3>
            <p class="text-base text-gray-600 max-w-2xl" data-i18n-html="games.game01.gameplay.treasure.description"></p>
            <div class="overflow-hidden rounded-lg shadow-md mt-0">
              <img src="/images/game/game01/treasuregif.gif" alt="Gameplay 3" class="w-full h-auto hover:scale-105 transition-transform duration-300" />
            </div>
          </div>

          <!-- Gameplay 4 -->
          <div class="flex flex-col items-center text-center space-y-4">
            <h3 class="text-2xl font-bold text-gray-900" data-i18n="games.game01.gameplay.story.title"></h3>
            <p class="text-base text-gray-600 max-w-2xl" data-i18n-html="games.game01.gameplay.story.description"></p>
            <div class="overflow-hidden rounded-lg shadow-md mt-0">
              <img src="/images/game/game01/storygif.gif" alt="Gameplay 4" class="w-full h-auto hover:scale-105 transition-transform duration-300" />
            </div>
          </div>
          
          <!-- Gameplay 5 -->
          <div class="flex flex-col items-center text-center space-y-4">
            <h3 class="text-2xl font-bold text-gray-900" data-i18n="games.game01.gameplay.abyss.title"></h3>
            <p class="text-base text-gray-600 max-w-2xl" data-i18n-html="games.game01.gameplay.abyss.description"></p>
            <div class="overflow-hidden rounded-lg shadow-md mt-0">
              <video src="/images/game/game01/abyss.webm" class="w-full h-auto hover:scale-105 transition-transform duration-300" autoplay loop muted playsinline></video>
            </div>
          </div>

          <!-- Gameplay 6 -->
          <div class="flex flex-col items-center text-center space-y-4">
            <h3 class="text-2xl font-bold text-gray-900" data-i18n="games.game01.gameplay.difficulty.title"></h3>
            <p class="text-base text-gray-600 max-w-2xl" data-i18n-html="games.game01.gameplay.difficulty.description"></p>
            <div class="overflow-hidden rounded-lg shadow-md mt-0">
              <img src="/images/game/game01/diff.png" alt="Gameplay 7" class="w-full h-auto hover:scale-105 transition-transform duration-300" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SubDetails Section 3: 外部支援 -->
  <section class="py-0">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="rounded-xl p-8 border border-gray-300 bg-gray-100">
        <!-- 1. SubTitle -->
        <h2 class="text-3xl font-bold text-gray-900 mb-6 text-center" data-i18n="games.game01.sections.externalSupport">
        </h2>
        
        <!-- 2. 分隔線 -->
        <div class="relative mb-8">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t-2 border-gray-300"></div>
          </div>
          <div class="relative flex justify-center">
            <span class="px-4 text-sm text-gray-500 bg-gray-100">✦</span>
          </div>
        </div>
        
        <!-- 3. 實際內容 -->
        <div class="prose prose-invert max-w-none text-gray-700">
          <div class="flex flex-col items-center text-center space-y-4">
            <h3 class="text-2xl font-bold text-gray-900" data-i18n="games.game01.externalSupport.lovense.title"></h3>
            <p class="text-base text-gray-600 max-w-2xl" data-i18n-html="games.game01.externalSupport.lovense.description"></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SubDetails Section 4: 概要 -->
  <section class="py-20">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="rounded-xl p-8 border border-gray-300 bg-gray-100">
        <!-- 1. SubTitle -->
        <h2 class="text-3xl font-bold text-gray-900 mb-6 text-center" data-i18n="games.game01.sections.overview">
        </h2>
        
        <!-- 2. 分隔線 -->
        <div class="relative mb-8">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t-2 border-gray-300"></div>
          </div>
          <div class="relative flex justify-center">
            <span class="px-4 text-sm text-gray-500 bg-gray-100">✦</span>
          </div>
        </div>
        
        <!-- 3. 實際內容 -->
        <div class="space-y-8">
          <div class="max-w-2xl mx-auto space-y-0">
            <!-- 名稱 -->
            <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-200 sm:pl-55">
              <div class="font-semibold text-gray-900 sm:w-32 mb-1 sm:mb-0" data-i18n="games.game01.overview.name.label"></div>
              <div class="text-gray-700" data-i18n="games.game01.overview.name.value"></div>
            </div>

            <!-- 對應主機 -->
            <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-200 sm:pl-55">
              <div class="font-semibold text-gray-900 sm:w-32 mb-1 sm:mb-0" data-i18n="games.game01.overview.platforms.label"></div>
              <div class="text-gray-700" data-i18n="games.game01.overview.platforms.value"></div>
            </div>

            <!-- 發行日期 -->
            <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-200 sm:pl-55">
              <div class="font-semibold text-gray-900 sm:w-32 mb-1 sm:mb-0" data-i18n="games.game01.overview.releaseDate.label"></div>
              <div class="text-gray-700" data-i18n="games.game01.overview.releaseDate.value"></div>
            </div>

            <!-- 對應語言 -->
            <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-200 sm:pl-55">
              <div class="font-semibold text-gray-900 sm:w-32 mb-1 sm:mb-0" data-i18n="games.game01.overview.languages.label"></div>
              <div class="text-gray-700" data-i18n="games.game01.overview.languages.value"></div>
            </div>

            <!-- 分級 -->
            <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-200 sm:pl-55">
              <div class="font-semibold text-gray-900 sm:w-32 mb-1 sm:mb-0" data-i18n="games.game01.overview.rating.label"></div>
              <div class="flex items-center">  
                <img src="/images/icon/ja_r18.png" alt="R18" class="h-12 w-auto" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SubDetails Section 5: Spec -->
  <section class="py-0">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="rounded-xl p-8 border border-gray-300 bg-gray-100">
        <!-- 1. SubTitle -->
        <h2 class="text-3xl font-bold text-gray-900 mb-6 text-center" data-i18n="games.game01.sections.systemRequirements">
        </h2>
        
        <!-- 2. 分隔線 -->
        <div class="relative mb-8">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t-2 border-gray-300"></div>
          </div>
          <div class="relative flex justify-center">
            <span class="px-4 text-sm text-gray-500 bg-gray-100">✦</span>
          </div>
        </div>
        
        <!-- 3. 實際內容 -->
        <div class="space-y-8">
          <div class="max-w-2xl mx-auto space-y-0">
            <!-- 作業系統 -->
            <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-200 sm:pl-55">
              <div class="font-semibold text-gray-900 sm:w-32 mb-1 sm:mb-0" data-i18n="games.game01.systemRequirements.os.label"></div>
              <div class="text-gray-700" data-i18n="games.game01.systemRequirements.os.value"></div>
            </div>

            <!-- 處理器 -->
            <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-200 sm:pl-55">
              <div class="font-semibold text-gray-900 sm:w-32 mb-1 sm:mb-0" data-i18n="games.game01.systemRequirements.processor.label"></div>
              <div class="text-gray-700" data-i18n="games.game01.systemRequirements.processor.value"></div>
            </div>

            <!-- 記憶體 -->
            <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-200 sm:pl-55">
              <div class="font-semibold text-gray-900 sm:w-32 mb-1 sm:mb-0" data-i18n="games.game01.systemRequirements.memory.label"></div>
              <div class="text-gray-700" data-i18n="games.game01.systemRequirements.memory.value"></div>
            </div>

            <!-- 顯示卡 -->
            <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-200 sm:pl-55">
              <div class="font-semibold text-gray-900 sm:w-32 mb-1 sm:mb-0" data-i18n="games.game01.systemRequirements.graphics.label"></div>
              <div class="text-gray-700" data-i18n="games.game01.systemRequirements.graphics.value"></div>
            </div>

            <!-- DirectX -->
            <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-200 sm:pl-55">
              <div class="font-semibold text-gray-900 sm:w-32 mb-1 sm:mb-0" data-i18n="games.game01.systemRequirements.directx.label"></div>
              <div class="text-gray-700" data-i18n="games.game01.systemRequirements.directx.value"></div>
            </div>
          </div>

          <!-- 備註 -->
          <div class="mt-8 p-4 bg-gray-100 rounded-lg max-w-2xl mx-auto">
            <p class="text-sm text-gray-600 text-center" data-i18n="games.game01.systemRequirements.note">
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Back to Games -->
  <section class="py-12">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <a 
        href="/games"
        class="inline-flex items-center gap-2 transition-colors"
        style="color: var(--color-navbar-layer2);"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
        </svg>
        <span data-i18n="common.backToGameList"></span>
      </a>
    </div>
  </section>
</Layout>

<script>
  // Age Verification
  const STORAGE_KEY = 'ageVerified_game01'
  const EXPIRY_TIME = 5 * 60 * 1000 // 5 minutes in milliseconds
  
  const overlay = document.getElementById('age-verification-overlay')
  const yesButton = document.getElementById('age-yes')
  const noButton = document.getElementById('age-no')
  
  function checkAgeVerification() {
    const stored = localStorage.getItem(STORAGE_KEY)
    if (stored) {
      const data = JSON.parse(stored)
      const now = new Date().getTime()
      
      // Check if not expired (within 5 minutes)
      if (now - data.timestamp < EXPIRY_TIME) {
        return true
      } else {
        // Expired, remove from storage
        localStorage.removeItem(STORAGE_KEY)
      }
    }
    return false
  }
  
  function setAgeVerified() {
    const data = {
      verified: true,
      timestamp: new Date().getTime()
    }
    localStorage.setItem(STORAGE_KEY, JSON.stringify(data))
  }
  
  // Show overlay if not verified
  if (!checkAgeVerification()) {
    overlay?.classList.remove('hidden')
  }
  
  // Yes button - verify and hide overlay
  yesButton?.addEventListener('click', () => {
    setAgeVerified()
    overlay?.classList.add('hidden')
  })
  
  // No button - redirect to games page
  noButton?.addEventListener('click', () => {
    window.location.href = '/games'
  })
</script>
